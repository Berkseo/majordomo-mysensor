<br/>
<p>
<a href="?view_mode=sensor_add&id=[#ID#]" class="btn btn-default"><i class="glyphicon glyphicon-plus"></i> <#LANG_ADD_NEW_RECORD#></a>
</p> 
<form action="?" method="post" enctype="multipart/form-data" name="frmEdit">
<table border=0 align=center cellpadding=3>
[#if OK#]
<tr>
 <td colspan=2 align=center>
  <font color="green"><#LANG_DATA_SAVED#></font>
 </td>
</tr>
[#endif OK#]
[#if ERR#]
<tr>
 <td colspan=2 align=center>
  <font color="red"><#LANG_FILLOUT_REQURED#></font>
 </td>
</tr>
[#endif ERR#]

[#if SENSORS#]

<script language="javascript">
 function setProperty(prop_id, current_value) {
  var new_value=prompt("Please enter new value", current_value);
  if (new_value!=null) {
   var url="?id=<#ID#>&edit_mode=<#EDIT_MODE#>&view_mode=<#VIEW_MODE#>&tab=<#TAB#>&mode=setvalue";
   window.location=url+'&prop_id='+prop_id+"&new_value="+new_value;
  }
  return false;
 }
</script>

<tr> 
 <td valign="top">
  <table width="100%" border="1" cellpadding="2">
   <tr>
    <td valign="top"><b>Sensor</b></td>	
    <td valign="top"><b>SUBTYPE</b></td>
    <td valign="top"><b>Updated</b></td>   
    <td valign="top"><b><#LANG_VALUE#></b></td>
	<td valign="top">&nbsp;</td>
    <td valign="top"><b><#LANG_LINKED_OBJECT#></b></td>
    <td valign="top"><b><#LANG_LINKED_PROPERTY#></b></td>
    <td valign="top">&nbsp;</td>
   </tr>
   [#begin SENSORS#]
   <tr>
    <td valign="top" [#if SDESCR!=""#]title="[#SDESCR#]"[#endif#]><b>[#SID#]</b>[#if STITLE!=""#]<br/>[#STITLE#][#endif#]</td>
    <td valign="top" [#if SUBDESCR!=""#]title="[#SUBDESCR#]"[#endif#]>[#SUBTYPE#][#if SUBTITLE!=""#]<br/>[#SUBTITLE#][#endif#]</td>
    <td valign="top">[#UPDATED#]</td>
    <td valign="top">[#VAL#]</td>
	<td valign="top"><a href="#" onClick="return setProperty('[#ID#]', '[#VALUE#]')"><#LANG_SET#></a></td>
    <td valign="top"><input type="text" name="linked_object[#ID#]" id="linked_object[#ID#]" value="[#LINKED_OBJECT#]"></td>
    <td valign="top"><input type="text" name="linked_property[#ID#]" id="linked_property[#ID#]" value="[#LINKED_PROPERTY#]">
    [#module name="linkedobject" object_field="linked_object<#SENSORS.ID#>" property_field="linked_property<#SENSORS.ID#>"#]
    </td>  
    <td><a href="?view_mode=sensor_delete&id=[#ID#]&pid=[#PID#]" onClick="return confirm('<#ARE_YOU_SURE#>')" class="btn btn-default btn-sm" title="<#LANG_DELETE#>"><i class="glyphicon glyphicon-remove"></i></a></td>
   </tr>
   [#end SENSORS#]
  </table>
 </td>
</tr>
[#endif SENSORS#]

<tr> 
 <td align=center> 
 <input type="submit" name="subm" value="<#LANG_SUBMIT#>"> 
 &nbsp;
 <a href="?"><#LANG_CANCEL#></a>
 </td>
</tr>
</table>

<input type="hidden" name="id" value="<#ID#>">
<input type="hidden" name="view_mode" value="<#VIEW_MODE#>">
<input type="hidden" name="edit_mode" value="<#EDIT_MODE#>">
<input type="hidden" name="mode" value="update">
<input type="hidden" name="data_source" value="<#DATA_SOURCE#>">
<input type="hidden" name="tab" value="<#TAB#>">
</form>

</p>